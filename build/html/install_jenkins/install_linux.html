

<!DOCTYPE html>
<html class="writer-html5" lang="vi">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cài Đặt Jenkins trên Linux (Debian/Ubuntu) &mdash; Tài liệu Jenkins Documentation 1.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=bf3d5b4e"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/translations.js?v=71464233"></script>
      <script src="../_static/clipboard.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Tìm Kiếm" href="../search.html" />
    <link rel="next" title="Cài đặt Jenkins với Docker" href="install_docker.html" />
    <link rel="prev" title="Cài đặt Jenkins trên Windows" href="install_window.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Jenkins Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="install_jenkins.html">Cài đặt Jenkins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install_window.html">Cài đặt Jenkins trên Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install_window.html#cach-cai-dat-java">1. Cách cài đặt Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="install_window.html#cach-cai-dat-jenkins">2. Cách cài đặt Jenkins</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cài Đặt Jenkins trên Linux (Debian/Ubuntu)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#yeu-cau-toi-thieu">Yêu cầu tối thiểu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cai-dat-jdk">1. Cài đặt JDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cai-dat-jenkins">2. Cài đặt Jenkins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#start-service-jenkins">3. Start service Jenkins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cau-hinh-tuong-lua-firewall">4. Cấu hình tường lửa Firewall</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thiet-lap-ban-dau-cho-jenkins">5. Thiết lập ban đầu cho Jenkins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install_docker.html">Cài đặt Jenkins với Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix.html">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix.html#cach-cai-dat-jdk">Cách cài đặt JDK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../appendix/install_jdk.html">Cài đặt JDK trên Window</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Jenkins Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="install_jenkins.html">Cài đặt Jenkins</a></li>
      <li class="breadcrumb-item active">Cài Đặt Jenkins trên Linux (Debian/Ubuntu)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/install_jenkins/install_linux.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cai-dat-jenkins-tren-linux-debian-ubuntu">
<h1>Cài Đặt Jenkins trên Linux (Debian/Ubuntu)<a class="headerlink" href="#cai-dat-jenkins-tren-linux-debian-ubuntu" title="Permalink to this heading"></a></h1>
<p>Khác với Window, việc cài đặt Jenkins trên linux dễ dàng hơn nhiều, vì mình không có server Linux riêng nên tạm thời sử dụng WSL2 thay thế.</p>
<p>Trong bài viết này mình sẽ hướng dẫn install Jenkins theo 2 mục đích khác nhau:</p>
<p><strong>1. Cài đặt Jenkins server cho mục đích dev trên máy cục bộ (local):</strong> này phù hợp cho những bạn chỉ muốn tìm hiểu và học Jenkins, và nó không yêu cầu truy cập Jenkins server từ máy khác.</p>
<p><strong>2. Cài đặt Jenkins server để các máy khác trong cùng mạng LAN:</strong> phù hợp cho một team phát triển cần một open source CI/CD để các member dễ dàng truy cập và làm việc cùng nhau trên một môi trường CICD chung.</p>
<section id="yeu-cau-toi-thieu">
<h2>Yêu cầu tối thiểu<a class="headerlink" href="#yeu-cau-toi-thieu" title="Permalink to this heading"></a></h2>
<p><strong>1. Môi trường Ubuntu 20.04:</strong> phiên bản này ổn định nên mình khuyên mọi người có thể dùng nó để tránh phải fix lỗi vặt, tốn thời gian.</p>
<p><strong>2. ``User`` không phải  ``root`` nhưng có quyền sử dụng ``root``:</strong> Bạn cần một tài khoản người dùng được cấp quyền <code class="docutils literal notranslate"><span class="pre">sudo</span></code> để cài đặt và cấu hình Jenkins, bởi vì quá trình cài đặt này yêu cầu các quyền hạn quản trị để thực hiện các thay đổi trên hệ thống.</p>
<p><strong>3. Cài đặt JDK</strong>: cần cài JDK trước khi cài Jenkins.</p>
</section>
<section id="cai-dat-jdk">
<h2>1. Cài đặt JDK<a class="headerlink" href="#cai-dat-jdk" title="Permalink to this heading"></a></h2>
<p>Jenkins được viết bằng Java nên bạn cần cài đặt Java Development Kit (JDK) hoặc Java Runtime Environment (JRE) để có thể chạy Jenkins.
Tuy nhiên, mình sẽ cài đặt JDK (bao gồm JRE và các công cụ cần thiết) vì JDK sẽ support việc biên dịch các plugin của Jenkins, giúp dễ mở rộng system.</p>
<ul class="simple">
<li><p>Bạn nên cập nhật danh sách package trước khi cài đặt bất kì cái gì, để đảm bảo kho lưu trữ của Ubuntu luôn luôn mới nhất.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
</pre></div>
</div>
<ul class="simple">
<li><p>Cài JDK phiên bản 17 trở lên là phù hợp, 11 cũng được nhưng mình nghĩ nên cài 17.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>openjdk-17-jre
</pre></div>
</div>
<ul class="simple">
<li><p>Kiểm tra phiên bản Java để đảm bảo cài đặt thành công.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>java<span class="w"> </span>-version
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/install_linux_1.png"><img alt="Install java on Linux" class="align-center" src="../_images/install_linux_1.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div></section>
<section id="cai-dat-jenkins">
<h2>2. Cài đặt Jenkins<a class="headerlink" href="#cai-dat-jenkins" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Đầu tiên, thêm khoá GPG của Jenkins vào hệ thống của bạn.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span><span class="se">\</span>
/usr/share/keyrings/jenkins-keyring.asc<span class="w"> </span>&gt;<span class="w"> </span>/dev/null
</pre></div>
</div>
<ul class="simple">
<li><p>Sau đó, thêm đường dẫn kho lưu trữ Jenkins vào <code class="docutils literal notranslate"><span class="pre">sources.list</span></code> của máy.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] \</span>
<span class="s2">https://pkg.jenkins.io/debian-stable binary/&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span><span class="se">\</span>
/etc/apt/sources.list.d/jenkins.list<span class="w"> </span>&gt;<span class="w"> </span>/dev/null
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/install_linux_2.png"><img alt="Install Jenkins on Linux" class="align-center" src="../_images/install_linux_2.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Chạy lại lệnh apt để cập nhật lại danh sách gói, để apt sử dụng kho lưu trữ mới.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
</pre></div>
</div>
</section>
<section id="start-service-jenkins">
<h2>3. Start service Jenkins<a class="headerlink" href="#start-service-jenkins" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Tiếp theo, máy đã đủ điều kiện để cài đặt Jenkins</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>jenkins
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/install_linux_3.png"><img alt="Install Jenkins on Linux successfully" class="align-center" src="../_images/install_linux_3.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Sau khi cài xong, bạn cần khởi động service Jenkins</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>jenkins.service
</pre></div>
</div>
<ul class="simple">
<li><p>Bạn có thể chạy thêm lệnh này để cấu hình hệ thống tự động khởi động service Jenkins mỗi khi máy được khởi động lại.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>jenkins.service
</pre></div>
</div>
<ul class="simple">
<li><p>Kiểm tra trạng thái service hiện tại của Jenkins</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>jenkins
</pre></div>
</div>
<p>Nếu bạn thấy <code class="docutils literal notranslate"><span class="pre">Active:</span> <span class="pre">active</span> <span class="pre">(running)</span></code> như ảnh thì nghĩa là service của Jenkins đã được khởi động thành công và đang chạy.</p>
<a class="reference internal image-reference" href="../_images/install_linux_4.png"><img alt="Check status of Jenkins" class="align-center" src="../_images/install_linux_4.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div></section>
<section id="cau-hinh-tuong-lua-firewall">
<h2>4. Cấu hình tường lửa Firewall<a class="headerlink" href="#cau-hinh-tuong-lua-firewall" title="Permalink to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Cảnh báo</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">Bạn</span> <span class="pre">có</span> <span class="pre">thể</span> <span class="pre">bỏ</span> <span class="pre">qua</span> <span class="pre">bước</span> <span class="pre">này</span> <span class="pre">nếu</span> <span class="pre">bạn</span> <span class="pre">chỉ</span> <span class="pre">cần</span> <span class="pre">chạy</span> <span class="pre">và</span> <span class="pre">truy</span> <span class="pre">cập</span> <span class="pre">Jenkins</span> <span class="pre">ở</span> <span class="pre">local</span> <span class="pre">của</span> <span class="pre">mình.</span></code></p>
</div></blockquote>
<p><strong>Mục đích:</strong> chỉ định rõ ràng những địa chỉ IP hoặc phạm vi địa chỉ mà được phép truy cập Jenkins server,
đồng thời chặn tất cả các request không mong muốn hoặc tiềm ẩn nguy hiểm từ bên ngoài.</p>
</div>
<ul class="simple">
<li><p>Đầu tiên, bạn cần kiểm tra xem ufw đã được kích hoạt trên hệ thống của bạn chưa bằng lệnh</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</pre></div>
</div>
<p>Nếu kết quả hiển thị là <code class="docutils literal notranslate"><span class="pre">inactive</span></code> như ảnh, điều đó có nghĩa là tường lửa chưa được kích hoạt.</p>
<a class="reference internal image-reference" href="../_images/install_linux_15.png"><img alt="Check status of Jenkins" class="align-center" src="../_images/install_linux_15.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Nếu <code class="docutils literal notranslate"><span class="pre">ufw</span></code> chưa được kích hoạt, bạn cần kích hoạt nó trước khi thêm các quy tắc. Kích hoạt <code class="docutils literal notranslate"><span class="pre">ufw</span></code> bằng lệnh</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ufw<span class="w"> </span><span class="nb">enable</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Mặc định, Jenkins chạy trên port 8080. Mở port đó bằng ufw (Uncomplicated Firewall):</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">8080</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Cảnh báo</p>
<p>Lệnh trên sẽ cấu hình tường lửa để cho phép tất cả các kết nối đến port 8080, điều này phù hợp nếu Jenkins của bạn sẽ nhận kết nối từ mọi địa chỉ IP.</p>
</div>
<ul class="simple">
<li><p>Sau khi đã thêm quy tắc, bạn có thể xác nhận lại bằng cách kiểm tra trạng thái của ufw:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/install_linux_14.png"><img alt="Check status of ufw" src="../_images/install_linux_14.png" style="width: 100%;" /></a>
<ul class="simple">
<li><p>Sau khi cấu hình tường lửa, hãy truy cập vào Jenkins qua trình duyệt tại địa chỉ:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://&lt;địa-chỉ-ip-của-máy-chủ&gt;:8080
</pre></div>
</div>
</section>
<section id="thiet-lap-ban-dau-cho-jenkins">
<h2>5. Thiết lập ban đầu cho Jenkins<a class="headerlink" href="#thiet-lap-ban-dau-cho-jenkins" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Bây giờ, bạn có thể truy cập Jenkins qua trình duyệt web của mình tại địa chỉ</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">&lt;http://&lt;địa</span> <span class="pre">chỉ</span> <span class="pre">IP</span> <span class="pre">của</span> <span class="pre">máy</span> <span class="pre">chủ&gt;:8080&gt;</span></code> hoặc <a class="reference external" href="http://localhost:8080">http://localhost:8080</a>.</p>
<ul class="simple">
<li><p>Tuy nhiên, lần đầu truy cập các bạn sẽ phải <code class="docutils literal notranslate"><span class="pre">Unlock</span> <span class="pre">Jenkins</span></code>. Như ảnh bên dưới các bạn sẽ cần nhập Administrator password.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/install_linux_5.png"><img alt="Access server Jenkins" class="align-center" src="../_images/install_linux_5.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><div class="admonition tip">
<p class="admonition-title">Mẹo</p>
<p>Bạn có thể sử dụng lệnh này để lấy mật khậu khởi tạo ban đầu, lưu ý dùng <code class="docutils literal notranslate"><span class="pre">sudo</span></code> để tránh bị lỗi Access denied.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>cat<span class="w"> </span>/var/lib/jenkins/secrets/initialAdminPassword
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/install_linux_6.png"><img alt="Get password" class="align-center" src="../_images/install_linux_6.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Lựa chọn cài đặt plugin đề xuất sẵn hoặc chọn các plugin cụ thể, ở đây mình nghĩ các bạn nên chọn <code class="docutils literal notranslate"><span class="pre">Install</span> <span class="pre">suggested</span> <span class="pre">plugins</span></code> để tránh gặp lỗi.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/install_linux_8.png"><img alt="Get password" class="align-center" src="../_images/install_linux_8.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Chờ đợi Jenkins tự install plugin</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/install_linux_9.png"><img alt="Get password" class="align-center" src="../_images/install_linux_9.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Sau khi quá trình cài đặt pluigin hoàn tất, bạn cần tạo user admin. Cứ tạo theo ý mình thích thôi.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/install_linux_10.png"><img alt="Get password" class="align-center" src="../_images/install_linux_10.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Thiết lập URL cho instance Jenkins của bạn. Trong trường hợp này, URL mặc định là <a class="reference external" href="http://localhost:8080/">http://localhost:8080/</a>, đây là URL dùng để truy cập Jenkins trên máy local.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/install_linux_11.png"><img alt="Get password" class="align-center" src="../_images/install_linux_11.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><p>Sau đó nhấp vào <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">and</span> <span class="pre">Finish</span></code>, nhấn <code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">using</span> <span class="pre">Jenkins</span></code> để hoàn thành cài đặt.</p>
<a class="reference internal image-reference" href="../_images/install_linux_12.png"><img alt="Get password" class="align-center" src="../_images/install_linux_12.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div><ul class="simple">
<li><p>Như vậy, quá trình cài đặt và thiết lập ban đầu cho Jenkins đã xong. Bạn có thể tiến hành tạo job và pipeline cho riêng mình.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/install_linux_13.png"><img alt="Finish" class="align-center" src="../_images/install_linux_13.png" style="width: 100%;" /></a>
<div style="margin-bottom:20px;"></div></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install_window.html" class="btn btn-neutral float-left" title="Cài đặt Jenkins trên Windows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install_docker.html" class="btn btn-neutral float-right" title="Cài đặt Jenkins với Docker" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Khanh Phan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>